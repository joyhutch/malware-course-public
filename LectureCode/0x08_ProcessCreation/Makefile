CC=x86_64-w64-mingw32-gcc
CXX=g++

LDFLAGS=-lpsapi

all: queryproc shellexec annoy  createproc terminate cppipe 


queryproc:
	$(CC) queryproc.c $(LDFLAGS) -o bin/queryproc.exe 

shellexec:
	$(CC) shellexec.c -o bin/shellexec.exe

annoy:
	$(CC) annoy.c -o bin/annoy.exe

createproc:
	$(CC) createproc.c -o bin/createproc.exe

terminate:
	$(CC) terminate.c $(LDFLAGS) -o bin/terminate.exe

cppipe:
	$(CXX) createproc_pipe.cpp -o bin/cppipe.exe

ipcfile:
	$(CC) ipc_file_reader.c -o bin/ipc_file_reader.exe 
	$(CC) ipc_file_writer.c -o bin/ipc_file_writer.exe 

ipcpipe:
	$(CC) ipc_pipe_reader.c -o bin/ipc_pipe_reader.exe 
	$(CC) ipc_pipe_writer.c -o bin/ipc_pipe_writer.exe 

ipcnpipe:
	$(CC) ipc_npipe_reader.c -o bin/ipc_npipe_reader.exe 
	$(CC) ipc_npipe_writer.c -o bin/ipc_npipe_writer.exe 

ipcshm:
	$(CC) ipc_shm_reader.c -o bin/ipc_shm_reader.exe 
	$(CC) ipc_shm_writer.c -o bin/ipc_shm_writer.exe 

ipcsock:
	$(CC) ipc_sock_reader.c -lws2_32 -o bin/ipc_sock_reader.exe 
	$(CC) ipc_sock_writer.c -lws2_32 -o bin/ipc_sock_writer.exe


ipcms:
	$(CC) ipc_ms_reader.c -o bin/ipc_ms_reader.exe 
	$(CC) ipc_ms_writer.c  -o bin/ipc_ms_writer.exe

ipc: ipcms ipcsock ipcshm ipcpipe ipcfile ipcnpipe
