#include <stdio.h> 
#include <stdlib.h>

void usage(char* arg_0){
    printf("usage: ./%s <n>\nn -- Compute the nth Fibonacci number, n>=0");
    return;
}

int Fibonacci(int n){
    if (n <= 1)
        return n;
    int first = 0, second = 1, next;
    
    for (int i = 2; i <= n; i++) {
        next = first + second;
        first = second;
        second = next;
    }
    return next;
}

int main(int argc, char* argv[]){
    int n;
    if (argc != 2){
        usage(argv[0]);
        return 0;
    }
    // Parse the value of n here using atoi!
    n = atoi(argv[1]);


    if( n < 0){
        usage(argv[0]);
        return 0;
    }

    int result = Fibonacci(n);
    printf("%d\n", result);
    return 0;

    // MY ANSWER HERE: it outputs a negative number because of the result 
    // exceeds the maximum value that an 'int' data type in C can hold
    // (C max int value is 2147483647, and the 47th Fibanacci number is really 
    // 2971215073). This leads to integer overflow, causing the addition at 
    // the binary level to wrap around and become negative.
}